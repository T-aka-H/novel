<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>村Gemini春樹 - AIが紡ぐ現代文学</title>
    <meta name="description" content="村上春樹スタイルのAI小説ジェネレーター">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>村Gemini春樹</h1>
            <p>AIが紡ぐ現代文学</p>
        </div>

        <div class="step-indicator">
            <div class="step active" data-step="1">一</div>
            <div class="step" data-step="2">二</div>
            <div class="step" data-step="3">三</div>
        </div>

        <!-- Step 1: 入力フォーム -->
        <div class="card" id="input-form">
            <h2>📝 物語の設定</h2>
            
            <div class="form-group">
                <label>登場人物の名前（三人）</label>
                <div class="character-inputs">
                    <input type="text" id="character1" placeholder="主人公の名前" required>
                    <input type="text" id="character2" placeholder="二人目の名前" required>
                    <input type="text" id="character3" placeholder="三人目の名前" required>
                </div>
            </div>

            <div class="form-group">
                <label>舞台設定</label>
                <input type="text" id="setting" placeholder="例：現代の東京、静かな港町、未来の都市など" required>
            </div>

            <div class="form-group">
                <label>ジャンル</label>
                <select id="genre" required>
                    <option value="">ジャンルを選択してください</option>
                    <option value="日常系">日常系</option>
                    <option value="恋愛小説">恋愛小説</option>
                    <option value="人間ドラマ">人間ドラマ</option>
                    <option value="不思議系">不思議系</option>
                    <option value="都市小説">都市小説</option>
                    <option value="青春小説">青春小説</option>
                    <option value="幻想小説">幻想小説</option>
                    <option value="哲学的小説">哲学的小説</option>
                </select>
            </div>

            <button class="btn" onclick="generateProlog()">序章を生成</button>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>AIが村上春樹の文体で物語を紡いでいます...</p>
        </div>

        <!-- Error Display -->
        <div id="error-display" class="error"></div>

        <!-- Step 2: プロローグと意見収集 -->
        <div class="story-section" id="prolog-section">
            <div class="card">
                <h2>📖 序章（四百文字）</h2>
                <div class="book-container">
                    <div class="story-page active" id="prolog-content"></div>
                </div>
                
                <div class="feedback-section">
                    <h3>💭 ご意見をお聞かせください</h3>
                    <div class="form-group">
                        <label>この方向性はいかがでしょうか？調整したい点があれば教えてください：</label>
                        <textarea id="feedback" rows="4" placeholder="例：もう少し詩的に、登場人物の関係性を変えたい、など"></textarea>
                    </div>
                </div>

                <button class="btn" onclick="generateFullStory()">完成版（四千文字）を生成</button>
            </div>
        </div>

        <!-- Step 3: 完成版小説 -->
        <div class="story-section" id="full-story-section">
            <div class="card">
                <h2>📚 完成版小説（四千文字）</h2>
                <div class="book-container novel">
                    <div class="page-indicator" id="page-indicator">1 / 1</div>
                    <div id="story-pages"></div>
                    <div class="page-controls">
                        <button class="page-btn" id="next-btn" onclick="nextPage()">次頁 →</button>
                        <button class="page-btn" id="prev-btn" onclick="prevPage()">← 前頁</button>
                    </div>
                </div>
                
                <div class="reset-section">
                    <button class="btn reset-btn" onclick="resetApp()">新しい物語を作る</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>